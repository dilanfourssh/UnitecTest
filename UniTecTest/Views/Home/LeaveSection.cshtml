
@{
    Layout = "~/Views/Shared/_customizeshared.cshtml";

}

<head>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(function () {
            $("#datepicker").datepicker();
        });
    </script>
</head>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
@*<style>
        input.ng-invalid {
            background-color: red;


        }
        input.ng-valid {
            background-color: yellow;
        }
    </style>*@

<div class="container" style="margin-top:20px">

    <div class="row" id="webtemplatetitle" style="background-color:#598a95ad; border-radius:10px 10px 10px 10px; padding:20px 20px 20px 20px; color:white">
        <div class="col-md col-sm">
            <h4 style="color:white">
                Employer Send Leave Form
            </h4>
        </div>
    </div>
    <div class="row">
        <div class="col-md col-sm">
            <img src="~/Image/leave.png" style="width:100%" />
        </div>

        <div class="col-sm">
            <div class="row" style="margin-bottom:30px;">
                <div class="col-sm" style="background-color:#598a95ad;margin-top:10px; border-radius:10px 10px 10px 10px; padding:20px 20px 20px 20px; color:white">
                    <h4 style="text-align:center"> <i class="fas fa-battery-half"></i> Employer Send Leave Form</h4>
                </div>
            </div>

            <div class="row">
                <div class="col-sm">
                    <form ngNoForm name="login-form" id="login-form" [formGroup]="loginForm" (submit)="onSubmit()" [action]='@Url.Action("AddDetils", "Home")' method='POST'>
                        <input type="hidden" value="@Session["id"]" [ngModel]="EmployerNo" name="EmployerNo" />
                        <div class="form-group" ng-app="">
                            <div ng-app="">
                                <label for="exampleInputEmail1"> Leave Type </label>
                                <select class="form-control" [ngModel]="leaveType" name="leaveType">
                                    <option value="casual">Casual Leave</option>
                                    <option value="anual">Anual Leave</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" ng-app="">
                            <div ng-app="">
                                <label for="exampleInputEmail1"> Leave Date </label>
                                <input type="datetime" [ngModel]="leaveDate" name="leaveDate" class="form-control" ng-model="leaveDate" id="datepicker" value="" aria-describedby="emailHelp" placeholder="add date" required>
                            </div>
                        </div>
                        <div class="form-group" ng-app="">
                            <div ng-app="">
                                <label for="exampleInputEmail1"> Number Of Day </label>
                                <select class="form-control" [ngModel]="numberOfDay" name="numberOfDay">
                                    <option value="1">01</option>
                                    <option value="2">02</option>
                                    <option value="3">03</option>
                                    <option value="4">04</option>
                                    <option value="5">05</option>
                                    <option value="6">06</option>
                                    <option value="7">07</option>
                                    <option value="8">08</option>
                                    <option value="9">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group" ng-app="">
                            <div ng-app="">
                                <label for="exampleInputEmail1"> Enter Reason </label>
                                <textarea rows="5" [ngModel]="reason" class="form-control" id="Skills"  minlength="15" value="Skills" name="reason" required></textarea>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-outline-info" style="width:100%; margin-bottom:10px">Send Leave</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!--update Today Date and Time-->
<script>
    function getDate() {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!
        var yyyy = today.getFullYear();

        if (dd < 10) {
            dd = '0' + dd
        }

        if (mm < 10) {
            mm = '0' + mm
        }

        today = yyyy + '/' + mm + '/' + dd;
        console.log(today);
        document.getElementById("datepicker").value = today;
    }


    window.onload = function () {
        getDate();
    };
</script>
<!--End-->
<script>
    onSubmit() {
        this.http.post('@Url.Action("AddDetils", "Home")', this.loginForm.value).subscribe(res => console.log(res));
    }
</script>

